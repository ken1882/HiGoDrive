<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!--網頁標題-->
    <title>GuaneiArk | 通知中心</title>
    <!--網頁圖標-->
    <link rel="shortcut icon" href="image/icon.ico">
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js">
    </script>
    <![endif]-->
    <!--GoogleIcon 圖標 CDN-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <!--Minified Jquery-->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <!--自定義CSS-->
    <link rel="stylesheet" href="css/style.css">
  <body>
    <main>

      <!--導覽列-->
      <nav class="nav-extended">
        <div class="nav-wrapper  #00b0ff light-blue accent-3">
          <div class="container">
            <a href="index.html" class="brand-logo">GuaneiArk</a>
            <a href="JavaScript:void(0)" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
            <ul class="right hide-on-med-and-down level_1">
              <li><a href="member.html">👤會員</a></li>
              <li><a href="event.html">💼差事</a></li>
              <li class="active"><a href="notification.html">🔔通知</a></li>
              <li>
                <a class="waves-effect waves-light btn" href="login.html">登入</a>
              </li>
            </ul>

            <ul class="sidenav" id="mobile-demo">
              <li><a href="member.html">👤會員</a></li>
              <li><a href="event.html">💼差事</a></li>
              <li class="active"><a href="notification.html">🔔通知</a></li>
              <li>
                <a class="waves-effect waves-light btn" href="login.html">登入</a>
              </li>
            </ul>
          </div>
        </div>

        <div class="nav-content #0091ea light-blue accent-4">
          <div class="container">
            <ul class="tabs tabs-transparent">
              <li class="tab"><a href="#test0">差事通知</a></li>
              <li class="tab"><a target="_self" href="message.html">差事訊息</a></li>
            </ul>
          </div>
        </div>

      </nav>

      <!--內容-->
      <div class="notification">
        <div class="container">
          <div class="row">
             <div class="col s12">
               <table class="highlight centered responsive-table">
                 <thead>
                   <tr>
                     <th colspan="4">通知內容</th>
                     <th></th>
                   </tr>
                 </thead>

                 <tbody>
                   <tr>
                     <td colspan="4">您的"逼時熱狗"由於違反社群守則已被下架</td>
                     <td>
                       <a class="small notificationDelete" href="JavaScript:void(0);" data-id="">
                         <i class="material-icons">clear</i>
                       </a>
                     </td>
                   </tr>

                   <tr>
                     <td colspan="4">火車站代買便當 差事已過期</td>
                     <td>
                       <a class="small notificationDelete" href="JavaScript:void(0);" data-id="">
                         <i class="material-icons">clear</i>
                       </a>
                     </td>
                   </tr>

                   <tr>
                     <td colspan="4">Alan 已接受您的 行動電源 租賃</td>
                     <td>
                       <a class="small notificationDelete" href="JavaScript:void(0);" data-id="">
                         <i class="material-icons">clear</i>
                       </a>
                     </td>
                   </tr>
                 </tbody>
               </table>
             </div>
        </div>
      </div>
    </main>

    <!--置底說明-->
    <footer class="page-footer #00b0ff light-blue accent-3">
      <div class="container">
        <div class="row">
          <div class="col l6 s12">
            <h5 class="white-text">關於</h5>
            <p class="grey-text text-lighten-4">
              建立台灣之服務共享平台，
              讓供應者提供多餘實體物品與非實體服務讓需求者能夠選擇使用，
              能使擁有多餘資源且願意回饋於社會的供應者，
              提供如教育、照顧、共乘、租賃服務，
              建立供應者與需求者溝通的橋樑。
            </p>
          </div>
          <div class="col l4 offset-l2 s12">
            <h5 class="white-text">其他資訊</h5>
            <ul>
              <li><a class="grey-text text-lighten-3" href="#!">問題回報</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="footer-copyright">
        <div class="container">
          © 2019 GuaneiArk
          <a class="grey-text text-lighten-4 right" href="#!">連略我們</a>
        </div>
      </div>
    </footer>

    <script>
      $(document).ready(function(){
        $(".sidenav").sidenav();
        $('.tabs').tabs();

        $("a.notificationDelete").on("click", function(){
          //宣告變數
          var c = confirm("您確定要刪除嗎？"),
              this_tr = $(this).parent().parent();
          if(c){
            $.ajax({
            type : "POST",
            url : "notification.html", //後端處理
            data : {
              id : $(this).attr("data-id") //文章id
            },
            dataType : 'html' //設定該網頁回應的會是 html 格式
          }).done(function(data) {
            //成功的時候
            if(data == "yes")
            {
              //註冊新增成功，轉跳到登入頁面。
              alert("刪除成功，點擊確認從列表移除");
              this_tr.fadeOut();
            }else{
              alert("刪除錯誤:"+data);
              this_tr.fadeOut();
            }
          }).fail(function(jqXHR, textStatus, errorThrown) {
            //失敗的時候
            alert("有錯誤產生，請看 console log");
            console.log(jqXHR.responseText);
          });
          }
          return false;
        });
      });
    </script>
  </body>
</html>
